function search(e,t){function r(t,e,n){function o(e){var t=n.apply(this,arguments);return!1===t&&(e.stopPropagation(),e.preventDefault()),t}function a(){var e=n.call(t,window.event);return!1===e&&(window.event.returnValue=!1,window.event.cancelBubble=!0),e}return t.addEventListener?(t.addEventListener(e,o,!1),{element:t,handler:o,event:e}):(t.attachEvent("on"+e,a),{element:t,handler:a,event:e})}function c(e){(e=document.querySelector(".qld__main-nav__toggle-search")).element.removeEventListener?e.element.removeEventListener(e.event,e.handler):e.element.detachEvent("on"+e.event,e.handler)}var l,i;l=document.querySelector(".qld__main-nav__toggle-search"),i={},l&&l.addEventListener("click",function t(){console.log("clicked");var e,n=l.getAttribute("aria-controls"),o=document.getElementById(n),n=o.querySelector(".qld__main-nav__focus-trap-top"),a=o.querySelector(".qld__main-nav__focus-trap-bottom");h=document.querySelector(".qld__header__search"),"false"===l.getAttribute("aria-expanded")?(l.setAttribute("aria-expanded",!0),l.classList.remove("qld__main-nav__toggle-search--open"),l.classList.add("qld__main-nav__toggle-search--close"),l.querySelector(".qld__main-nav__toggle-text").innerHTML="Close",o.style.display="block",h.style.display.zIndex="1",setTimeout(function(){o.classList.add("qld__main-nav__search--open"),o.querySelector(".qld__text-input").focus(),i.background=r(document,"click",function(){var e=window.event;o.contains(e.target)||(console.log("toggling"),t())})},0),n.setAttribute("tabindex",0),a.setAttribute("tabindex",0),i.focusTop=r(n,"focus",function(){o.querySelector("button").focus()}),i.focusBottom=r(a,"focus",function(){o.querySelector("input").focus()}),e=document.querySelector('button[aria-controls="main-nav"]'),i.menu=r(e,"click",function(){t()}),i.escKey=r(document,"keyup",function(){27===window.event.keyCode&&t()})):(l.setAttribute("aria-expanded",!1),l.classList.remove("qld__main-nav__toggle-search--close"),l.classList.add("qld__main-nav__toggle-search--open"),l.querySelector(".qld__main-nav__toggle-text").innerHTML="Search",l.focus(),o.classList.remove("qld__main-nav__search--open"),o.style.display="none",n.removeAttribute("tabindex"),a.removeAttribute("tabindex"),c(i.focusTop),c(i.focusBottom),c(i.background),c(i.menu),c(i.escKey))})}